# SonarQube project configuration for dArchiva

# --- Project Identification ---
sonar.projectKey=darchiva
sonar.projectName=dArchiva
sonar.projectVersion=1.0

# --- Source Code Locations ---
# Comma-separated list of paths to your source directories
sonar.sources=darchiva-ui/src, papermerge-core/papermerge, papermerge-auth-server/auth_server, papermerge-ocr-worker/ocrworker, papermerge-s3-worker/s3worker
sonar.sourceEncoding=UTF-8

# --- Test & Coverage Configuration ---
# Comma-separated list of paths to your test source directories
sonar.tests=darchiva-ui/src/test, darchiva-ui/e2e, papermerge-core/tests, papermerge-auth-server/tests, papermerge-ocr-worker/tests, papermerge-s3-worker/tests

# --- Language-Specific Settings ---

# Python
sonar.python.version=3.13
# To generate a Python coverage report, run:
# pytest --cov=papermerge --cov-report=xml:coverage.xml
# sonar.python.coverage.reportPaths=coverage.xml

# JavaScript/TypeScript
sonar.javascript.lcov.reportPaths=darchiva-ui/coverage/lcov.info
# To generate a frontend coverage report, run this in the darchiva-ui directory:
# npm run test:coverage

# --- Exclusions ---
# Exclude node_modules, build artifacts, etc.
sonar.exclusions=**/node_modules/**, **/dist/**, **/.venv/**, **/migrations/**, **/__pycache__/**

